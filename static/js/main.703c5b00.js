(()=>{"use strict";var e={8725:(e,t,n)=>{n.r(t),n.d(t,{default:()=>gn});var r=n(2074),i=n(3535),o=n(5796),a=n(9526),l=n(9128),s=n(322),u=n(5861),c=n(8067),d={levels:{debug:0,info:1,warn:2,error:3},severity:"debug",transport:c.consoleTransport,transportOptions:{colors:{info:"blueBright",warn:"yellowBright",error:"redBright"}},async:!0,dateFormat:"time",printLevel:!0,printDate:!0,enabled:!0},f=c.logger.createLogger(d),y=(0,s.createSlice)({name:"category",initialState:{value:[]},reducers:{setCategories:function(e,t){f.debug("categorySlice saveCategories",t),e.value=t.payload}}}),g=((0,s.createAsyncThunk)("category/getCategories",function(){var e=(0,u.default)((function*(e,t){var n=t.dispatch,r=e.categories;n(g(r))}));return function(t,n){return e.apply(this,arguments)}}()),y.actions.setCategories);const h=y.reducer;var p=(0,s.createSlice)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),v=p.actions;v.increment,v.decrement,v.incrementByAmount;const b=p.reducer;var A=n(5671),m=n(3144),j=n(136),x=n(6215),C=n(1120),k=n(5519),O=function(){function e(){(0,A.default)(this,e)}return(0,m.default)(e,[{key:"getItem",value:function(){var e=(0,u.default)((function*(e){return yield k.default.getItem(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=(0,u.default)((function*(e,t){yield k.default.setItem(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"mergeItem",value:function(){var e=(0,u.default)((function*(e,t){yield k.default.mergeItem(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"multiSet",value:function(){var e=(0,u.default)((function*(e){yield k.default.multiSet(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=(0,u.default)((function*(){yield k.default.clear()}));return function(){return e.apply(this,arguments)}}()}]),e}();function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,C.default)(e);if(t){var i=(0,C.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,x.default)(this,n)}}var I=function(e){(0,j.default)(n,e);var t=S(n);function n(){return(0,A.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"getTasksByCategory",value:function(){var e=(0,u.default)((function*(e){var t=this.getKeyPrefix()+e;return yield this.getItem(t)}));return function(t){return e.apply(this,arguments)}}()},{key:"setTasksByCategory",value:function(){var e=(0,u.default)((function*(e,t){var n=this.getKeyPrefix()+e;yield this.setItem(n,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"mergeTaskByCategory",value:function(){var e=(0,u.default)((function*(e,t){var n=this.getKeyPrefix()+e;yield this.mergeItem(n,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getKeyPrefix",value:function(){return"tasks-category-"}}]),n}(O),P=new I,E=n(1707),w=(0,E.object)({id:(0,E.string)().required(),title:(0,E.string)().required(),categoryId:(0,E.string)().required(),description:(0,E.string)().nullable(),selectedDaysRepeat:(0,E.array)().of((0,E.string)()).nullable(),date:(0,E.date)().nullable(),time:(0,E.date)().nullable(),createdDate:(0,E.date)().nullable(),updatedDate:(0,E.date)().nullable()}),D=(0,E.array)().of(w),B="recent-actions",R="my-actions",T=3,J="Home",H="http://localhost:19006",M={colorPrimary:"#489C93",colorSecondary:"#489C93",bgColorPrimary:"#F3F3F3"},Q=n(7385),U=(0,m.default)((function e(t){(0,A.default)(this,e);var n=t.id,r=t.title,i=t.description,o=t.selectedDaysRepeat,a=t.date,l=t.time,s=t.deleted,u=t.categoryId,c=t.createdDate,d=t.updatedDate;this.id=n||Q.default.v4(),this.title=r,this.categoryId=u,this.description=i,this.selectedDaysRepeat=o,this.date=a,this.time=l,this.deleted=s,this.createdDate=c||new Date,this.updatedDate=d||new Date})),F=function(){function e(){(0,A.default)(this,e),this.tasks=[]}return(0,m.default)(e,[{key:"get",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.tasks:this.tasks.filter((function(e){return!e.deleted}))}},{key:"add",value:function(e){return this.tasks.push(e),this.tasks}},{key:"softDelete",value:function(e){var t=-1;return this.tasks=this.tasks.map((function(n,r){return n.id==e.id&&(n.deleted=!0,t=r),n})),t}},{key:"set",value:function(e){e&&(this.tasks=e.map((function(e){var t=new U(e);return t.categoryId||(t.categoryId=R),t})))}},{key:"remove",value:function(e){this.tasks=this.tasks.filter((function(t){return t.id!==e.id&&!0!==t.deleted}))}},{key:"undo",value:function(e){this.tasks=this.tasks.map((function(t){return t.id===e.id&&(t.deleted=!1),t}))}},{key:"update",value:function(e){return this.tasks=this.tasks.map((function(t){return t.id===e.id?e:t})),this.tasks}}]),e}(),L=(0,s.createSlice)({name:"task",initialState:{value:[]},reducers:{setTasks:function(e,t){f.debug("taskSlice setTasks",t),e.value=t.payload}}}),G=(0,s.createAsyncThunk)("task/saveTasksByCategory",function(){var e=(0,u.default)((function*(e,t){var n=t.dispatch,r=e.categoryId,i=e.tasks;yield D.validate(i),yield P.setTasksByCategory(r,JSON.stringify(i)),n(Y(i))}));return function(t,n){return e.apply(this,arguments)}}()),K=(0,s.createAsyncThunk)("task/saveRecent",function(){var e=(0,u.default)((function*(e){var t=e.recent,n=e.isUpdate;yield w.validate(t);var r=JSON.parse(yield P.getTasksByCategory(B))||[];(n||r.some((function(e){return e.id===t.id})))&&(r=r.filter((function(e){return e.id!==t.id}))),r.length>=T&&(r=r.slice(1,T)),r.push(t),yield P.setTasksByCategory(B,JSON.stringify(r))}));return function(t){return e.apply(this,arguments)}}()),N=(0,s.createAsyncThunk)("task/getTasksByCategory",function(){var e=(0,u.default)((function*(e,t){var n=t.dispatch,r=e.categoryId,i=e.includeDeleted;try{var o=JSON.parse(yield P.getTasksByCategory(r));if(!o)throw Error("Empty Task for Category");var a=new F;a.set(o),n(Y(a.get(i)))}catch(l){f.warn(l),n(Y([]))}}));return function(t,n){return e.apply(this,arguments)}}()),Y=L.actions.setTasks;const W=L.reducer;var z=(0,s.createSlice)({name:"activeCategory",initialState:{value:null},reducers:{setActiveCategory:function(e,t){f.debug("setActiveCategory",t),e.value=t.payload}}}),V=z.actions.setActiveCategory;const X=z.reducer,Z=(0,s.configureStore)({reducer:{counter:b,task:W,category:h,activeCategory:X},middleware:function(e){return e({serializableCheck:!1})}});var q=n(4942),_=n(885),$=n(1133),ee=n(30),te=n(5987),ne=n(4539),re=n(4333),ie=n(7557),oe=["icon","label","variant","size","color","tintColor","loading","loadingIndicator","loadingIndicatorPosition","visible","style","pressableContainerStyle","contentContainerStyle","iconContainerStyle","labelContainerStyle","labelStyle","loadingOverlayContainerStyle","pressEffect","pressEffectColor","onPress","onPressIn","onPressOut","onLongPress","onBlur","onFocus","onMouseEnter","onMouseLeave","delayLongPress","disabled","hitSlop","pressRetentionOffset","android_disableSound","android_ripple","testOnly_pressed"];function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const se=function(e){var t=e.icon,n=e.label,i=e.variant,o=void 0===i?"standard":i,l=e.size,s=void 0===l?"default":l,u=e.color,c=void 0===u?"secondary":u,d=e.tintColor,f=e.loading,y=void 0!==f&&f,g=e.loadingIndicator,h=e.loadingIndicatorPosition,p=void 0===h?"icon":h,v=e.visible,b=void 0===v||v,A=e.style,m=e.pressableContainerStyle,j=e.contentContainerStyle,x=e.iconContainerStyle,C=e.labelContainerStyle,k=e.labelStyle,O=e.loadingOverlayContainerStyle,S=e.pressEffect,I=e.pressEffectColor,P=e.onPress,E=e.onPressIn,w=e.onPressOut,D=e.onLongPress,B=e.onBlur,R=e.onFocus,T=e.onMouseEnter,J=e.onMouseLeave,H=e.delayLongPress,M=e.disabled,Q=e.hitSlop,U=e.pressRetentionOffset,F=e.android_disableSound,L=e.android_ripple,G=e.testOnly_pressed,K=(0,te.default)(e,oe),N=(0,r.usePaletteColor)(c,d),Y=(0,a.useMemo)((function(){return t||y&&"icon"===p}),[t,y,p]),W=(0,r.useStyles)((function(){return{container:{backgroundColor:N.main,borderRadius:"default"===s?28:20},pressableContainer:{borderRadius:"default"===s?28:20,overflow:"hidden"},pressable:{flexDirection:"row",alignItems:"center",paddingStart:"extended"===o?Y?"default"===s?12:6:"default"===s?20:10:"default"===s?16:8,paddingEnd:"extended"===o?"default"===s?20:10:"default"===s?16:8,paddingVertical:"default"===s?16:8},iconContainer:{justifyContent:"center",alignItems:"center",width:24,height:24},labelContainer:{marginStart:Y?"default"===s?12:6:0},loadingOverlayContainer:le(le({},re.default.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",backgroundColor:N.main})}}),[o,s,N,Y]),z=(0,a.useRef)(new ne.default.Value(b?1:0)).current;(0,a.useEffect)((function(){ne.default.timing(z,{toValue:b?1:0,duration:200,useNativeDriver:!0}).start()}),[b]);var V=function(){if(!g)return(0,ie.jsx)(r.ActivityIndicator,{color:N.on});switch(typeof g){case"string":return(0,ie.jsx)(r.Text,{variant:"button",style:{color:N.on},children:g});case"function":return g({color:N.on});default:return g}},X=(0,a.useState)(!1),Z=(0,_.default)(X,2),q=Z[0],ee=Z[1],ae=(0,a.useCallback)((function(e){null==E||E(e),ee(!0)}),[E]),se=(0,a.useCallback)((function(e){null==w||w(e),ee(!1)}),[w]),ue=(0,r.useAnimatedElevation)(q?12:6);return(0,ie.jsx)(r.Surface,le(le({style:[ue,W.container,{transform:[{scale:z}]},A]},K),{},{children:(0,ie.jsx)($.default,{style:[W.pressableContainer,m],children:(0,ie.jsxs)(r.Pressable,{style:[W.pressable,j],pressEffect:S,pressEffectColor:null!=I?I:N.on,onPress:P,onPressIn:ae,onPressOut:se,onLongPress:D,onBlur:B,onFocus:R,onMouseEnter:T,onMouseLeave:J,delayLongPress:H,disabled:M,hitSlop:Q,pressRetentionOffset:U,android_disableSound:F,android_ripple:L,testOnly_pressed:G,children:[Y&&(0,ie.jsx)($.default,{style:[W.iconContainer,x],children:y&&"icon"===p?V():"function"===typeof t?t({color:N.on,size:24}):t}),"extended"===o&&(0,ie.jsx)($.default,{style:[W.labelContainer,C],children:function(){switch(typeof n){case"string":return(0,ie.jsx)(r.Text,{variant:"button",selectable:!1,style:[{color:N.on},k],children:n});case"function":return n({color:N.on});default:return n}}()}),y&&"overlay"===p&&(0,ie.jsx)($.default,{style:[W.loadingOverlayContainer,O],children:V()})]})})}))};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const de=function(e){var t=e.onMenuClick,n=e.onAddClick;return(0,ie.jsx)(r.AppBar,{variant:"bottom",color:M.colorPrimary,leading:function(e){return(0,ie.jsx)(r.IconButton,ce({contentContainerStyle:{left:15},onPress:t,color:"white",icon:function(e){return(0,ie.jsx)(ee.default,ce(ce({name:"menu"},e),{},{color:"white"}))}},e))},style:{position:"absolute",start:0,end:0,bottom:0},children:(0,ie.jsx)(se,{color:M.colorPrimary,tintColor:"white",onPress:n,icon:function(e){return(0,ie.jsx)(ee.default,ce({name:"plus"},e))},style:{position:"absolute",top:-28,alignSelf:"center",borderColor:"white",borderWidth:1}})})};function fe(e){var t=e.onPress;return(0,ie.jsxs)($.default,{style:{backgroundColor:"white",flex:1,alignItems:"center",justifyContent:"center"},children:[(0,ie.jsx)(r.IconButton,{icon:function(e){return(0,ie.jsx)(ee.default,{size:50,name:"plus"})},onPress:t}),(0,ie.jsx)(r.Text,{style:{padding:30,color:"grey",fontSize:18},children:"Click to create task, You have no task"})]})}var ye;const ge=function(e){var t=e.item,n=e.onUndo,i=e.visible,o=e.setVisible,l=e.onDone;return(0,a.useEffect)((function(){i&&(f.debug("RemovedSnackBar",t),ye=setTimeout((function(){l(t),o(!1)}),4e3))}),[i]),i&&(0,ie.jsx)($.default,{style:{flex:1},children:(0,ie.jsx)(r.Snackbar,{message:"Removed Item",action:(0,ie.jsx)(r.Button,{variant:"text",title:"Undo",color:"#6666ff",compact:!0,onPress:function(){clearTimeout(ye),n(t),o(!1)}}),style:{position:"absolute",start:16,end:16,bottom:70}})})};var he=n(4658),pe=!1;function ve(e){var t=e.activeCategory,n=e.onDelete,i=e.onUpdate,o=e.visible,l=e.setVisible,s="my-task"===(null==t?void 0:t.id),u=(0,a.useRef)(null);(0,a.useEffect)((function(){var e;o?function(){var e;pe=!1,null==(e=u.current)||e.show()}():null==(e=u.current)||e.hide()}),[o]);return(0,ie.jsx)(he.default,{ref:u,onClose:function(){pe&&i(t),l(!1)},children:(0,ie.jsxs)($.default,{style:{margin:20,display:"flex"},children:[(0,ie.jsx)(r.Button,{variant:"text",onPress:function(){var e;pe=!1,null==(e=u.current)||e.hide(),n(t)},disabled:s,title:"Remove Category"},"remove-category"),(0,ie.jsx)(r.Divider,{style:{margin:5}}),(0,ie.jsx)(r.Button,{variant:"text",onPress:function(){var e;pe=!0,null==(e=u.current)||e.hide()},disabled:s,title:"Update Category"},"update-category")]})})}var be=n(8576),Ae=function(){function e(t){(0,A.default)(this,e),this.tabs=[],t&&(this.tabs=t),this.setDefaultActiveTab()}return(0,m.default)(e,[{key:"setDefaultActiveTab",value:function(){this.tabs.length>0&&!this.tabs.some((function(e){return e.active}))&&(this.tabs[0].active=!0)}}]),e}(),me=n(4637),je=["onPress","children","active","customStyles"];function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){var t=e.onPress,n=e.children,r=(e.active,e.customStyles),i=(0,te.default)(e,je);return(0,ie.jsx)(me.default,Ce(Ce({onPress:t,style:function(e){var t=e.pressed;return[Oe.button,t?Oe.buttonPressed:"",r]}},i),{},{children:n}))}var Oe=re.default.create({buttonPressed:{opacity:.5},button:{padding:10,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"}}),Se=["tabs","activeCategory","onAdd","onClick","onDelete","onUpdate","onLongPress"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){var t=e.tabs,n=e.activeCategory,i=e.onAdd,o=e.onClick,a=(e.onDelete,e.onUpdate,e.onLongPress),l=((0,te.default)(e,Se),new Ae(t)),s=function(e){o(e)};return(0,ie.jsxs)($.default,{style:we.tabContainer,children:[l.tabs&&n&&(0,ie.jsx)(be.default,{horizontal:!0,style:{flexGrow:0},children:(0,ie.jsx)($.default,{style:{display:"flex",flexDirection:"row"},children:l.tabs.map((function(e,t){var i=e.id===n.id;return(0,ie.jsx)(ke,{onPress:function(){s(e)},onLongPress:function(){s(e),a()},customStyles:i?Pe(Pe({},we.button),we.active):Pe({},we.button),active:i,children:(0,ie.jsx)(r.Text,{numberOfLines:1,style:i?we.textActive:"",children:e.title})},t)}))})}),(0,ie.jsx)(r.IconButton,{onPress:i,icon:function(e){return(0,ie.jsx)(ee.default,Pe({name:"plus"},e))}},"add-category")]})}var we=re.default.create({button:{width:80},buttonMenu:{width:60},tabContainer:{display:"flex",flexDirection:"row",backgroundColor:"white",borderBottomWidth:2,borderBottomColor:"rgb(216, 216, 216)"},buttonActive:{width:120,borderColor:M.colorPrimary,borderBottomWidth:2},textActive:{color:M.colorPrimary},active:{textColor:M.colorPrimary,borderColor:M.colorPrimary,borderBottomWidth:3,borderRadius:3}}),De=(0,m.default)((function e(t){var n=t.id,r=t.title,i=t.deleted,o=t.createdDate,a=t.updatedDate;(0,A.default)(this,e),this.id=n||Q.default.v4(),this.title=r,this.deleted=i,this.createdDate=o||new Date,this.updatedDate=a||new Date})),Be=n(8053),Re=n(2940);const Te=function(e){var t=e.children;return(0,ie.jsx)(Re.default,{onPress:function(){return Be.default.dismiss()},children:t})};var Je=n(3455),He=n(7132),Me=re.default.create({backdrop:{backgroundColor:"rgba(0,0,0,.5)"},container:{justifyContent:"center",alignItems:"center",height:"95%"},surface:{width:"100%",marginHorizontal:40}});const Qe=function(e){var t=e.visible,n=void 0!==t&&t,i=e.onDismiss,o=e.children,l=(0,a.useState)(n),s=(0,_.default)(l,2),u=s[0],c=s[1],d=(0,a.useMemo)((function(){return new ne.default.Value(n?1:0)}),[]);return(0,a.useEffect)((function(){n&&c(!0),ne.default.timing(d,{toValue:n?1:0,duration:225,easing:Je.default.out(Je.default.cubic),useNativeDriver:"android"!==He.default.OS}).start((function(){n||c(!1)}))}),[n]),u?(0,ie.jsxs)(r.Portal,{children:[(0,ie.jsx)(Re.default,{onPress:i,children:(0,ie.jsx)(ne.default.View,{style:[re.default.absoluteFill,Me.backdrop,{opacity:d}]})}),(0,ie.jsx)(ne.default.View,{style:[re.default.absoluteFill,Me.container,{opacity:d}],pointerEvents:"box-none",needsOffscreenAlphaCompositing:"android"===He.default.OS,children:(0,ie.jsx)(r.Surface,{category:"medium",elevation:24,style:[Me.surface],children:o})})]}):null};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){var t=e.category,n=e.visible,i=e.onClose,o=e.onSave,l=e.onDelete,s=a.useState((null==t?void 0:t.title)||""),u=(0,_.default)(s,2),c=u[0],d=u[1],f=!!t,y=a.useState("Create Category"),g=(0,_.default)(y,2),h=g[0],p=g[1];a.useEffect((function(){p(t?"Update Category":"Create Category")}),[e.task]);return(0,ie.jsx)(Qe,{visible:n,onDismiss:i,children:(0,ie.jsx)(Te,{children:(0,ie.jsxs)($.default,{children:[(0,ie.jsxs)($.default,{style:{display:"flex",flexDirection:"row"},id:"task-form",children:[(0,ie.jsx)($.default,{style:{flex:1},children:(0,ie.jsx)(r.DialogHeader,{title:h})}),f&&(0,ie.jsx)(r.IconButton,{onPress:function(){l(t)},icon:function(e){return(0,ie.jsx)(ee.default,Fe({name:"delete"},e))}}),(0,ie.jsx)(r.IconButton,{onPress:i,icon:function(e){return(0,ie.jsx)(ee.default,Fe({name:"close"},e))}})]}),(0,ie.jsx)(r.DialogContent,{children:(0,ie.jsx)($.default,{children:(0,ie.jsx)(r.TextInput,{value:c,onChangeText:d,placeholder:"Category Title"})})}),(0,ie.jsxs)(r.DialogActions,{children:[(0,ie.jsx)(r.Button,{variant:"outlined",title:"Cancel",onPress:i}),(0,ie.jsx)(r.Button,{disabled:!c,title:f?"Update":"Create",onPress:function(){var e=t?t.id:null,n=new De({id:e,title:c});o(n,f)}})]})]})})})}var Ge=n(9899),Ke=["color","disabled","onChange","onValueChange","style","value","keyword"];function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){var t=e.color,n=e.disabled,r=(e.onChange,e.onValueChange),i=e.style,o=e.value,l=e.keyword,s=(0,te.default)(e,Ke),u=(0,a.useCallback)((function(){r&&r(!o,l)}),[r,o]);return(0,ie.jsx)(me.default,Ye(Ye({},s),{},{disabled:n,accessibilityRole:"checkbox",accessibilityState:{disabled:n,checked:o},style:[Ze.root,i,o&&Ze.checked,!!t&&{backgroundColor:o?t:void 0,borderColor:t},n&&Ze.disabled,o&&n&&Ze.checkedAndDisabled],onPress:u,children:o&&(0,ie.jsx)(Ge.default,{source:{uri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAACXBIWXMAFxGDABcRgwEFErJzAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADY1JREFUeJzt3TuOrOtZhuGnFyKxnSMYgGWJKeBgyxFj2EhIZgxMAuQpIO0IOwXJ2hEQMAUSJEIExJDin4D12+vUq+vwvf93uq6wg9KjDvrWW9VVlQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAso7j+P3eGwCYzHEcPz2O49+O4/jj3lsAmMT7ePz38f/+U0QAeNMn8ThEBIA3vRIPEQHgdW/EQ0QA+NyN8RARAH7nzniICAAPx0NEAHb2ZDxEBGBHjeIhIgA7aRwPEQHYQVE8RARgZcXxEBGAFV0UDxEBWMnF8RARgBV0ioeIAMysczxEBGBGg8TjNEVEXnoPAOjtOI6fJvl1kh/13vKB/0rys5eXl3/pPeQ1AgJsbdB4nIaOiIAA2xo8HqdhIyIgwJYmicdpyIgICLCdyeJxGi4iAgJsZdJ4nIaKiIAA25g8HqdhIiIgwBYWicdpiIgICLC8xeJx6h4RAQGWtmg8Tl0jIiDAshaPx6lbRAQEWNIm8Th1iYiAAMvZLB6nyyMiIMBSNo3H6dKICAiwjM3jcbosIgICLEE8PnJJRAQEmJ54fFF5RAQEmJp4fFVpRAQEmJZ43KQsIgICTEk87lISEQEBpiMeD2keEQEBpiIeT2kaEQEBpiEeTTSLiIAAUxCPpppE5F2jMQBljuP4Jsn3EY9W/iDJz599EBcIMDSXR4lfJvmzl5eX/33mQQQEGJZ4lGgSj0RAgEGJR4lm8UgEBBiQeJRoGo9EQIDBiEeJ5vFIBAQYiHiUKIlHIiDAIMSjRFk8EgEBBiAeJUrjkQgI0Jl4lCiPRyIgQEfiUeKSeCQCAnQiHiUui0ciIEAH4lHi0ngkAgJcTDxKXB6PRECAC4lHiS7xSAQEuIh4lOgWj0RAgAuIR4mu8UgEBCgmHiW6xyMREKCQeJQYIh6JgABFxKPEMPFIBAQoIB4lhopHIiBAY+JRYrh4JAICNCQeJYaMRyIgQCPiUWLYeCQCAjQgHiWGjkciIMCTxKPE8PFIBAR4gniUmCIeiYAADxKPEtPEIxEQ4AHiUWKqeCQCAtxJPEpMF49EQIA7iEeJKeORCAhwI/EoMW08EgEBbiAeJaaORyIgwBvEo8T08UgEBPgK8SixRDwSAQFeIR4llolHIiDAF4hHiaXikQgI8AnxKLFcPBIBAT4gHiWWjEciIMB74lFi2XgkAgJEPIosHY9EQGB74lFi+XgkAgJbE48SW8QjERDYlniU2CYeiYDAlsSjxFbxSAQEtiMeJbaLRyIgsBXxKLFlPBIBgW2IR4lt45EICGxBPEpsHY9EQGB54lFi+3gkAgJLE48S4vGegMCixKOEeHxAQGBB4lFCPD4hILAY8SghHl8gILAQ8SghHq8QEFiEeJQQj68QEFiAeJQQjzcICExOPEqIxw0EBCYmHiXE40YCApMSjxLicQcBgQmJRwnxuJOAwGTEo4R4PEBAYCLiUUI8HiQgMAnxKCEeTxAQmIB4lBCPJwkIDE48SohHAwICAxOPEuLRiIDAoMSjhHg0JCAwIPEoIR6NCQgMRjxKiEcBAYGBiEcJ8SgiIDAI8SghHoUEBAYgHiXEo5iAQGfiUUI8LiAg0JF4lBCPiwgIdCIeJcTjQgICHYhHCfG4mIDAxcSjhHh0ICBwIfEoIR6dCAhcRDxKiEdHAgIXEI8S4tGZgEAx8SghHgMQECgkHiXEYxACAkXEo4R4DERAoIB4lBCPwQgINCYeJcRjQAICDYlHCfEYlIBAI+JRQjwGJiDQgHiUEI/BCQg8STxKiMcEBASeIB4lxGMSAgIPEo8S4jERAYEHiEcJ8ZiMgMCdxKOEeExIQOAO4lFCPCYlIHAj8SghHhMTELiBeJQQj8kJCLxBPEqIxwIEBL5CPEqIxyLe9R5wheM43h3H8ZfHcfyw9xbmcRzHN0m+j3i09F2Sb8VjDcsH5DiOd0n+JslfJfn+OA5/DHjT+8vj75L8oPeWhfwyyV+8vLz8pvcQ2lj6KawP4vHnH/z4n5P86cvLy//0WcXoPG1VwtNWC1o2IK/E4yQifJF4lBCPRS0ZkDficRIRPiIeJcRjYcsF5MZ4nESEJOJRRDwWt1RA7ozHSUQ2Jx4lxGMDywTkwXicRGRT4lFCPDaxRECejMdJRDYjHiXEYyPTB6RRPE4isgnxKCEem5k6II3jcRKRxYlHCfHY0LQBKYrHSUQWJR4lxGNTUwakOB4nEVmMeJQQj41NF5CL4nESkUWIRwnx2NxUAbk4HicRmZx4lBAP5glIp3icRGRS4lFCPEgySUA6x+MkIpMRjxLiwW8NH5BB4nESkUmIRwnx4CNDB2SweJxEZHDiUUI8+MywARk0HicRGZR4lBAPvmjIgAwej5OIDEY8SogHrxouIJPE4yQigxCPEuLBVw0VkMnicRKRzsSjhHjwpmECMmk8TiLSiXiUEA9uMkRAJo/HSUQuJh4lxIObdQ/IIvE4ichFxKOEeHCXrgFZLB4nESkmHiXEg7t1C8ii8TiJSBHxKCEePKRLQBaPx0lEGhOPEuLBwy4PyCbxOIlII+JRQjx4yqUB2SweJxF5kniUEA+edllANo3HSUQeJB4lxIMmLgnI5vE4icidxKOEeNBMeUDE4yMiciPxKCEeNFUaEPH4IhF5g3iUEA+aKwuIeHyViLxCPEqIByVKAiIeNxGRT4hHCfGgTPOAiMddROQ98SghHpRqGhDxeMj2ERGPEuJBuWYBEY+nbBsR8SghHlyiSUDEo4ntIiIeJcSDyzwdEPFoapuIiEcJ8eBS7xo8xl9HPFr5kyR/fxzHD3sPqXQcxzdJvo94tPRdkm/Fgyu1uEB+nOQfk/zR83N4b9lLxOVRwuVBF61eAxGR9paLiHiUEA+6aflfWCLS3jIREY8S4kFXrd8HIiLtTR8R8SghHnRX8U50EWlv2oiIRwnxYAhVn4UlIu1NFxHxKCEeDKPy03hFpL1pIiIeJcSDoVR/H4iItDd8RMSjhHgwnCu+kVBE2hs2IuJRQjwY0lXfiS4i7Q0XEfEoIR4M65KAJCJSZJiIiEcJ8WBolwUkEZEi3SMiHiXEg+FdGpBERIp0i4h4lBAPpnB5QBIRKXJ5RMSjhHgwjS4BSUSkyGUREY8S4sFUugUkEZEi5RERjxLiwXS6BiQRkSJlERGPEuLBlLoHJBGRIs0jIh4lxINpDRGQRESKNIuIeJQQD6Y2TEASESnydETEo4R4ML2hApKISJGHIyIeJcSDJQwXkEREitwdEfEoIR4sY8iAJCJS5OaIiEcJ8WApwwYkEZEib0ZEPEqIB8sZOiCJiBR5NSLiUUI8WNLwAUlEpMhnERGPEuLBsqYISCIiRX4bEfEoIR4sbZqAJMlxHD9J8g9J/rD3loX8U5JfJPlVkh/0nbKU75L8/OXl5Te9h0CVqQKSuESYgsuDLUwXkEREGJp4sI0pA5KICEMSD7YybUASEWEo4sF2pg5IIiIMQTzY0vQBSUSErsSDbS0RkERE6EI82NoyAUlEhEuJB9tbKiCJiHAJ8YAsGJBERCglHvDekgFJRIQS4gEfWDYgiYjQlHjAJ5YOSCIiNCEe8AXLByQREZ4iHvCKLQKSiAgPEQ/4im0CkogIdxEPeMNWAUlEhJuIB9xgu4AkIsJXiQfcaMuAJCLCF4kH3GHbgCQiwkfEA+60dUASESGJeMBDtg9IIiKbEw94kIC8JyJbEg94goB8QES2Ih7wJAH5hIhsQTygAQH5AhFZmnhAIwLyChFZknhAQwLyFSKyFPGAxgTkDSKyBPGAAgJyAxGZmnhAEQG5kYhMSTygkIDcQUSmIh5QTEDuJCJTEA+4gIA8QESGJh5wEQF5kIgMSTzgQgLyBBEZinjAxQTkSSIyBPGADgSkARHpSjygEwFpRES6EA/oSEAaEpFLiQd0JiCNicglxAMGICAFRKSUeMAg3vUesKKXl5d/TfKzJP/Re8tivkvyrXjAGFwghVwiTbk8YDACUkxEmhAPGJCAXEBEniIeMCgBuYiIPEQ8YGACciERuYt4wOAE5GIichPxgAkISAci8lXiAZMQkE5E5IvEAyYiIB2JyEfEAyYjIJ2JSBLxgCkJyAA2j4h4wKQEZBCbRkQ8YGICMpDNIiIeMDkBGcwmEREPWICADGjxiIgHLEJABrVoRMQDFiIgA1ssIuIBixGQwS0SEfGABQnIBCaPiHjAogRkEpNGRDxgYQIykckiIh6wOAGZzCQREQ+AER3H8ePjOP79GNPfHsfxe71/RwC84hgzIuIBMINjrIiIB8BMjjEiIh4AM+ocEfEAmFmniIgHwAoujoh4AKzkooiIB8CKiiMiHgArK4qIeADsoHFExANgJ40iIh4AO3oyIuIBsLMHIyIeANwdEfEA4HdujIh4APC5NyIiHgC87pWIiAcAb/skIuIBwO2O4/jJcRy/OI7jXe8tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA5/4PiZTk2kr08uAAAAAASUVORK5CYII="},style:re.default.absoluteFill})}))};We.displayName="Checkbox";const ze=We;var Ve=He.default.select({ios:"#007AFF",android:"#009688"}),Xe="#AAB8C2",Ze=re.default.create({root:{height:20,width:20,borderRadius:2,borderWidth:2,borderColor:"#657786"},checked:{backgroundColor:Ve,borderColor:Ve},disabled:{borderColor:"#CCD6DD",backgroundColor:"transparent"},checkedAndDisabled:{backgroundColor:Xe,borderColor:Xe}});function qe(e){var t=e.tasks,n=e.onPress;return(0,ie.jsx)($.default,{style:{flex:1},children:t&&t.map((function(e,t){var i,o=e.date?new Date(e.date):"",a=e.time?new Date(e.time):"";return(o||a)&&(o||(i=a),a||(i=o),o&&a&&((i=o).setHours(a.getHours()),i.setMinutes(a.getMinutes()))),(0,ie.jsx)(me.default,{onPress:function(){n(e)},children:(0,ie.jsxs)($.default,{style:[_e.listItem],children:[(0,ie.jsx)(ze,{style:{borderRadius:"50%",padding:12},value:!1,keyword:e.title,onValueChange:function(){console.log("bbbbbbbbb")}}),(0,ie.jsxs)($.default,{style:{width:"100%",paddingLeft:10,margin:5},children:[(0,ie.jsx)(r.Text,{children:e.title}),(0,ie.jsx)(r.Text,{style:_e.description,children:e.description}),(0,ie.jsx)(r.Text,{style:_e.time,children:i&&i.toLocaleDateString("en-US")})]})]})},e.id+t)}))})}We.isAvailableAsync=function(){return console.warn("Checkbox.isAvailableAsync() is deprecated and will be removed in future releases"),Promise.resolve(!0)};var _e=re.default.create({listItem:{display:"flex",flexDirection:"row",borderBottomColor:"rgb(216, 216, 216)",borderBottomWidth:2,paddingLeft:15,alignItems:"center",minHeight:50},description:{color:"grey",fontSize:12},time:{color:"green",fontSize:12}}),$e=(0,E.object)({id:(0,E.string)().required(),title:(0,E.string)().required(),deleted:(0,E.boolean)().nullable(),createdDate:(0,E.date)().nullable(),updatedDate:(0,E.date)().nullable()}),et=(0,E.array)().of($e),tt=n(2982);function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,C.default)(e);if(t){var i=(0,C.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,x.default)(this,n)}}var rt,it,ot,at=function(e){(0,j.default)(n,e);var t=nt(n);function n(){return(0,A.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"getCategories",value:function(){var e=(0,u.default)((function*(){var e=this.getKeyPrefix();return yield this.getItem(e)}));return function(){return e.apply(this,arguments)}}()},{key:"setCategories",value:function(){var e=(0,u.default)((function*(e){var t=this.getKeyPrefix();yield this.setItem(t,e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyPrefix",value:function(){return"categories"}}]),n}(O),lt=(new at,function(){function e(){(0,A.default)(this,e),this.categoryDao=new at,this.defaultCategory=new De({id:R,title:"My Actions"}),this.dispatch=(0,l.useDispatch)()}return(0,m.default)(e,[{key:"getCategories",value:function(){var e=(0,u.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f.debug("getCategories",e);try{var t=JSON.parse(yield this.categoryDao.getCategories());return e||(t=t.filter((function(e){return!e.deleted}))),t.map((function(e){return new De(e)}))}catch(n){return f.error("getCategories error",n),[]}}));return function(){return e.apply(this,arguments)}}()},{key:"getCategoriesWithDefault",value:function(){var e=(0,u.default)((function*(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f.debug("getCategoriesWithDefault",t);try{e=yield this.getCategories(t),e=[this.defaultCategory].concat((0,tt.default)(e))}catch(n){f.warn("getCategoriesWithDefault error",n),e=[this.defaultCategory]}return e}));return function(){return e.apply(this,arguments)}}()},{key:"setActiveCategory",value:function(e){return $e.validateSync(e),this.dispatch(V(e))}},{key:"setCategories",value:function(e){return this.dispatch(g(e))}},{key:"setActiveCategoriesAndLoadTasks",value:function(e){var t=this;(0,l.batch)((function(){t.dispatch(N({categoryId:e.id,includeDeleted:!1,category:e})),t.dispatch(V(e))}))}},{key:"saveCategories",value:function(){var e=(0,u.default)((function*(e,t){var n;n=t?yield this.updateCategory(e):yield this.addCategories(e),et.validate(n),yield this.categoryDao.setCategories(JSON.stringify(n)),this.setCategories([this.defaultCategory].concat((0,tt.default)(n)),e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"addCategories",value:function(){var e=(0,u.default)((function*(e){try{var t=yield this.getCategories();return t.push(e),t}catch(n){console.log(n)}}));return function(t){return e.apply(this,arguments)}}()},{key:"removeCategories",value:function(){var e=(0,u.default)((function*(e){f.debug("removeCategories",e);try{$e.validate(e);var t=yield this.getCategories(!0);t=t.filter((function(t){return t.id!==e.id&&!0!==t.deleted})),et.validate(t),yield this.categoryDao.setCategories(JSON.stringify(t))}catch(n){f.error("removeCategories",n)}}));return function(t){return e.apply(this,arguments)}}()},{key:"softRemoveCategories",value:function(){var e=(0,u.default)((function*(e){f.debug("softRemoveCategories",e);try{$e.validate(e);var t=yield this.getCategories();t=t.map((function(t){return t.id===e.id&&(t.deleted=!0),t})),et.validate(t),yield this.categoryDao.setCategories(JSON.stringify(t)),this.setCategories([this.defaultCategory].concat((0,tt.default)(t))),f.info("softRemoveCategories success")}catch(n){f.error("softRemoveCategories",n)}}));return function(t){return e.apply(this,arguments)}}()},{key:"undoRemovedCategory",value:function(){var e=(0,u.default)((function*(e){var t=e.item,n=e.dispatch;f.debug("undoRemovedCategory",t);try{$e.validate(t);var r=yield this.getCategories(!0);return r=r.map((function(e){return e.id==t.id&&(e.deleted=!1),e})),et.validate(r),yield this.categoryDao.setCategories(JSON.stringify(r)),n&&n(g([this.defaultCategory].concat((0,tt.default)(r)))),{item:t}}catch(i){f.error("undoRemovedCategory",i)}}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCategory",value:function(){var e=(0,u.default)((function*(e){try{var t=yield this.getCategories();return t=t.map((function(t){return t.id==e.id&&(t=e),t}))}catch(n){f.error("updateCategory",n)}}));return function(t){return e.apply(this,arguments)}}()}]),e}()),st=function(){return rt||(rt=new lt)},ut=function(){function e(){(0,A.default)(this,e),this.taskDao=new I,this.dispatch=(0,l.useDispatch)()}return(0,m.default)(e,[{key:"getTasksByCategory",value:function(){var e=(0,u.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f.debug("getTasksByCategory",e,t);try{var n=JSON.parse(yield this.taskDao.getTasksByCategory(e)),r=new F;return r.set(n),r}catch(i){return f.warn(i),[]}}));return function(t){return e.apply(this,arguments)}}()},{key:"getTasksByCategoryStore",value:function(){var e=(0,u.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f.debug("getTasksByCategoryStore",e,t);try{this.dispatch(N({categoryId:e,includeDeleted:t}))}catch(n){return f.warn(n),[]}}));return function(t){return e.apply(this,arguments)}}()},{key:"setTasksStore",value:function(){var e=(0,u.default)((function*(e){yield D.validate(e),this.dispatch(Y(e))}));return function(t){return e.apply(this,arguments)}}()},{key:"setTasksByCategory",value:function(){var e=(0,u.default)((function*(e,t){f.debug("setTasksByCategory",e,t);try{yield D.validate(t),yield this.taskDao.setTasksByCategory(e,JSON.stringify(t)),f.info("setTasksByCategory success")}catch(n){f.error(n)}}));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveTaskByCategory",value:function(){var e=(0,u.default)((function*(e){var t=e.categoryId,n=e.item,r=e.isUpdate,i=e.dispatch;f.debug("saveTaskByCategory",t,n,r),r?t===n.categoryId?yield this.updateTaskByCategory({categoryId:t,item:n,dispatch:i}):(yield this.removeTaskByCategory({categoryId:n.categoryId,item:n,dispatch:i}),n.categoryId=t,yield this.addTaskByCategory({categoryId:t,item:n,dispatch:i})):yield this.addTaskByCategory({categoryId:t,item:n,dispatch:i}),i&&i(K({recent:n,isUpdate:r}))}));return function(t){return e.apply(this,arguments)}}()},{key:"removeTaskByCategory",value:function(){var e=(0,u.default)((function*(e){var t=e.categoryId,n=e.item,r=e.dispatch;f.debug("removeTaskByCategory",t,n);try{yield w.validate(n);var i=yield this.getTasksByCategory(t);return i.remove(n),r&&r(G({categoryId:t,tasks:i.get()})),n}catch(o){f.error(o)}}));return function(t){return e.apply(this,arguments)}}()},{key:"undoRemovedTask",value:function(){var e=(0,u.default)((function*(e){var t=e.item,n=e.dispatch;f.debug("undoRemovedTask",t);try{yield w.validate(t);var r=t.categoryId,i=yield this.getTasksByCategory(r);i.undo(t);var o=i.get();return n&&n(G({categoryId:r,tasks:o})),{item:t,list:o}}catch(a){f.error(a)}}));return function(t){return e.apply(this,arguments)}}()},{key:"softRemoveTaskByCategory",value:function(){var e=(0,u.default)((function*(e,t){f.debug("softRemoveTaskByCategory",e,t);try{yield w.validate(t);var n=yield this.getTasksByCategory(e);if(-1==n.softDelete(t))throw Error("not found "+JSON.parse(t));this.dispatch(G({categoryId:e,tasks:n.get(!0)})),f.info("softRemoveTaskByCategory success")}catch(r){f.error(r)}}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTaskByCategory",value:function(){var e=(0,u.default)((function*(e){var t=e.categoryId,n=e.item,r=e.dispatch;f.debug("updateTaskByCategory",t,n);try{yield w.validate(n);var i=(yield this.getTasksByCategory(t)).update(n);return r&&r(G({categoryId:t,tasks:i})),i}catch(o){f.error(o)}}));return function(t){return e.apply(this,arguments)}}()},{key:"addTaskByCategory",value:function(){var e=(0,u.default)((function*(e){var t=e.categoryId,n=e.item,r=e.dispatch;f.debug("addTaskByCategory",t,n);try{yield w.validate(n);var i=(yield this.getTasksByCategory(t)).add(n);return r&&r(G({categoryId:t,tasks:i})),i}catch(o){f.error(o)}}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ct=function(){return it||(it=new ut)},dt=function(){function e(){(0,A.default)(this,e),this.taskService=new ut,this.categoryService=new lt}return(0,m.default)(e,[{key:"removeAble",value:function(e){return!(!this.isTaskModel(e)&&!this.isTaskCategoryModel(e))}},{key:"isTaskModel",value:function(e){return"TaskModel"===e.constructor.name}},{key:"isTaskCategoryModel",value:function(e){return"TaskCategoryModel"===e.constructor.name}},{key:"undo",value:function(e){f.debug("undo",e),this.removeAble(e)}},{key:"removePermanent",value:function(){var e=(0,u.default)((function*(e){if(f.debug("removePermanent",e),this.removeAble(e)){if(this.isTaskModel(e)){var t=yield this.taskService.removeTaskByCategory(e.categoryId,e);return f.info("removePermanent success"),t}if(this.isTaskCategoryModel(e)){var n=yield this.categoryService.removeCategories(e);return f.info("removePermanent success"),n}f.info("removePermanent failed")}}));return function(t){return e.apply(this,arguments)}}()},{key:"undoRemoved",value:function(){var e=(0,u.default)((function*(e){var t=e.item,n=e.dispatch;if(f.debug("undoRemoved",t),this.removeAble(t)){if(this.isTaskModel(t)){var r=yield this.taskService.undoRemovedTask({item:t,dispatch:n});return f.info("undoRemoved success"),r.item}if(this.isTaskCategoryModel(t)){var i=yield this.categoryService.undoRemovedCategory({item:t,dispatch:n});return f.info("undoRemoved success"),i.item}f.info("undoRemoved failed")}}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ft=function(){return ot||(ot=new dt)},yt=n(4288);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=function(e){try{var t=e.categories,n=e.tasks,r=e.activeCategory;et.validateSync(t),D.validateSync(n),r&&$e.validateSync(r),f.info("validateScreen success")}catch(i){throw f.error("validateScreen",i),i}};const vt=(0,l.connect)((function(e){return{categories:e.category.value,activeCategory:e.activeCategory.value,tasks:e.task.value.filter((function(e){return!e.deleted}))}}))((function(e){var t=e.navigation,n=e.route,r=e.categories,i=e.tasks,o=e.activeCategory,s=a.useState(null),c=(0,_.default)(s,2),d=c[0],y=c[1],g=a.useState(!1),h=(0,_.default)(g,2),p=h[0],v=h[1],b=a.useState(!1),A=(0,_.default)(b,2),m=A[0],j=A[1],x=a.useState(!1),C=(0,_.default)(x,2),k=C[0],O=C[1],S=a.useState(null),I=(0,_.default)(S,2),P=I[0],E=I[1],w=n.params;(0,a.useEffect)((function(){t.setOptions({headerLeft:function(e){return(0,ie.jsx)(yt.default,ht(ht({},e),{},{onPress:function(){t.navigate(J)},label:"Home",labelVisible:!0,tintColor:M.colorPrimary}))}}),Q(),pt({activeCategory:o,categories:r,tasks:i})}),[]),(0,a.useEffect)((function(){"delete"===(null==w?void 0:w.action)&&U(w.item),"reload"===(null==w?void 0:w.action)&&(null==w?void 0:w.category)&&B.setActiveCategory(w.category)}),[w]);var D=ct(),B=st(),R=ft(),T=(0,l.useDispatch)(),H=function(e){t.navigate("ActionDetail",{task:e?JSON.stringify(e):null,categoryId:null==e?void 0:e.categoryId})},Q=function(){var e=(0,u.default)((function*(){f.debug("initTaskScreen",o);var e=yield B.getCategoriesWithDefault();B.setCategories(e);var t=o||e[0];B.setActiveCategory(t),D.getTasksByCategoryStore(t.id)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,u.default)((function*(e){f.debug("onDeleteTask",e),yield D.softRemoveTaskByCategory(e.categoryId,e),V(e)}));return function(t){return e.apply(this,arguments)}}(),F=function(){v(!0)},L=function(){var e=(0,u.default)((function*(){y(null),F()}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,u.default)((function*(e){B.setActiveCategoriesAndLoadTasks(e)}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,u.default)((function*(){v(!1)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,u.default)((function*(e,t){f.debug("onSaveCategoryForm",e,t),yield B.saveCategories(e,t),K(),f.info("onSaveCategoryForm success")}));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=(0,u.default)((function*(e){yield W(e),K()}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,u.default)((function*(e){f.debug("onDeleteCategoryTab",e),yield B.softRemoveCategories(e),V(e)}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,u.default)((function*(e){f.debug("onUpdateCategoryTab",e),y(e),F()}));return function(t){return e.apply(this,arguments)}}(),V=function(e){f.debug("enableSnack",e),"TaskModel"!==e.constructor.name&&"TaskCategoryModel"!==e.constructor.name||(E(e),O(!0),f.info("enableSnack success"))},X=function(){var e=(0,u.default)((function*(e){f.debug("onClickUndoRemovedSnackBar",e),yield R.undoRemoved({item:e,dispatch:T})}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.default)((function*(e,t){f.debug("onDoneRemovedSnackBar",e),yield R.removePermanent(e)}));return function(t,n){return e.apply(this,arguments)}}();return(0,ie.jsxs)($.default,{style:{flex:1,backgroundColor:"white"},className:"wrapper",children:[r&&(0,ie.jsx)(Ee,{tabs:r,activeCategory:o,onAdd:L,onClick:G,onLongPress:function(){j(!0)}}),i.length>0?(0,ie.jsx)(qe,{tasks:i,onPress:function(e){return H(e)}}):(0,ie.jsx)(fe,{onPress:function(){H()}}),p&&(0,ie.jsx)(Le,{category:d,onClose:K,visible:p,onSave:N,onDelete:Y}),(0,ie.jsx)(ve,{activeCategory:o,visible:m,setVisible:j,onDelete:W,onUpdate:z}),(0,ie.jsx)(ge,{visible:k,setVisible:O,item:P,onUndo:X,onDone:Z}),(0,ie.jsx)(de,{onMenuClick:function(){j(!0)},onAddClick:function(){t.navigate("ActionDetail",JSON.stringify({categoryId:o.id}))},style:{height:600}})]})}));var bt=n(2727);function At(e){var t=e.style,n=e.label,i=e.textStyle,o=e.onPress;return(0,ie.jsx)(me.default,{style:t||mt.box,onPress:o,children:(0,ie.jsxs)($.default,{style:{alignItems:"center",justifyContent:"center",flex:1},children:[(0,ie.jsx)(r.Text,{style:i||"",children:n||"Title"}),(0,ie.jsx)($.default,{style:{display:"flex",flexDirection:"row-reverse",width:"100%"},children:(0,ie.jsx)(ee.default,{name:"timer",color:M.colorPrimary,size:20,style:{alignItems:"flex-start"}})})]})})}var mt=re.default.create({box:{width:150,height:"45%",borderRadius:10,margin:5,padding:5,backgroundColor:"#E7EBEB"}});function jt(e){var t=e.title,n=e.children,i=t.charAt(0).toUpperCase()+t.slice(1);return(0,ie.jsxs)($.default,{style:{margin:10},children:[(0,ie.jsx)(r.Text,{variant:"h5",children:i||"Title"}),(0,ie.jsx)(be.default,{horizontal:!0,style:{flexGrow:0,marginVertical:5},children:(0,ie.jsx)($.default,{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",height:200},children:n})})]})}function xt(e){var t=e.tasks,n=e.onPress;return(0,ie.jsx)($.default,{style:{flex:1},children:t&&t.map((function(e,t){var i,o=e.date?new Date(e.date):"",a=e.time?new Date(e.time):"";return(o||a)&&(o||(i=a),a||(i=o),o&&a&&((i=o).setHours(a.getHours()),i.setMinutes(a.getMinutes()))),(0,ie.jsx)(me.default,{onPress:function(){n(e)},children:(0,ie.jsx)($.default,{style:[Ct.listItem],children:(0,ie.jsxs)($.default,{style:{width:"100%",margin:5},children:[(0,ie.jsx)(r.Text,{children:e.title}),(0,ie.jsx)(r.Text,{style:Ct.description,children:e.description}),(0,ie.jsx)(r.Text,{style:Ct.time,children:i&&i.toLocaleDateString("en-US")})]})})},e.id+t)}))})}var Ct=re.default.create({listItem:{display:"flex",flexDirection:"row",borderBottomColor:"rgb(216, 216, 216)",borderBottomWidth:1,paddingLeft:15,alignItems:"center",minHeight:50},description:{color:"grey",fontSize:12},time:{color:"green",fontSize:12}}),kt=n(9069),Ot=n(8615),St=function(){function e(){(0,A.default)(this,e),this.dispatch=(0,l.useDispatch)()}return(0,m.default)(e,[{key:"getCategories",value:function(){var e=(0,u.default)((function*(){var e=yield kt.StorageInstance.get("data/quotes/category.json"),t=Ot.default.create({baseURL:e,timeout:5e3});return(yield t.get(e)).data}));return function(){return e.apply(this,arguments)}}()}]),e}(),It=re.default.create({line:{borderBottomColor:"rgb(216, 216, 216)",borderBottomWidth:1}});function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=re.default.create({container:{backgroundColor:M.bgColorPrimary,flex:1},box:{height:100,borderRadius:10,marginHorizontal:30,marginTop:20,padding:5,color:"#489C93",borderWidth:2,borderColor:"#40A79E",backgroundColor:"#E5FFFD"}});const Dt=function(e){var t=e.navigation,n=new St,i=new ut,o=a.useState(null),s=(0,_.default)(o,2),c=s[0],d=s[1],y=(0,l.useSelector)((function(e){return e.task.value.filter((function(e){return!e.deleted}))})),g=(0,bt.useIsFocused)();(0,a.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=yield n.getCategories();d(e)}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,a.useEffect)((function(){g&&i.getTasksByCategoryStore(B)}),[g]);var h=function(){t.navigate("Actions")};return(0,ie.jsx)($.default,{style:wt.container,children:(0,ie.jsxs)(be.default,{children:[(0,ie.jsx)(At,{style:wt.box,label:'They may call your victories, "lucky"...They may mock your failures...They may laugh at your heartache...But still, they will never be happy. This is the cyclical emptiness of the hater mindset.',onPress:function(){},textStyle:{color:M.colorPrimary}}),(0,ie.jsx)($.default,{style:{margin:10},children:y?(0,ie.jsxs)($.default,{children:[(0,ie.jsx)(r.Text,{variant:"h5",children:"Recent Actions"}),(0,ie.jsx)(xt,{tasks:y.reverse(),onPress:h}),(0,ie.jsx)(r.Button,{title:"Click to see more actions",variant:"text",onPress:h,color:M.colorPrimary})]}):(0,ie.jsx)(r.Button,{variant:"text",onPress:h,color:M.colorPrimary,children:"Click to create first action"})}),c&&Object.keys(c).map((function(e,n){return(0,ie.jsxs)($.default,{children:[(0,ie.jsx)($.default,{style:Et(Et({},It.line),{},{borderBottomColor:"#339F9F",marginHorizontal:10})}),(0,ie.jsx)(jt,{navigation:t,title:e,children:c[e]&&c[e].map((function(e,n){return e.tag=e.tag.charAt(0).toUpperCase()+e.tag.slice(1),(0,ie.jsx)(At,{navigation:t,label:e.tag,onPress:function(){return n=e,f.debug(n),void t.navigate("QuoteDetail",{url:n.url});var n}},n)}))},e)]},n)}))]})})};var Bt,Rt=n(1787),Tt=n(8313),Jt=n(5863),Ht=function(){function e(){(0,A.default)(this,e)}return(0,m.default)(e,[{key:"getList",value:function(){var e=(0,u.default)((function*(e){f.debug("getList",e);var t=yield kt.StorageInstance.get(e),n=Ot.default.create({baseURL:t,timeout:5e3});return(yield n.get(t)).data}));return function(t){return e.apply(this,arguments)}}()},{key:"getBgUrl",value:function(){var e=(0,u.default)((function*(e){return f.debug("getBgUrl",e),yield kt.StorageInstance.get(e)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Mt=n(6543);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=re.default.create({textStyle:{fontSize:20,paddingHorizontal:20,color:"black"},ownerStyle:{fontSize:20,paddingHorizontal:20,color:"black"},socialButton:{backgroundColor:"white",opacity:.7},item:{width:"100%",justifyContent:"center",flex:3},owner:{width:"100%",alignItems:"flex-end",flex:1},viewPager:{flex:1},page:{justifyContent:"center",alignItems:"center"}});const Lt=function(e){var t,n,i,o=e.navigation,l=e.route,s=null==l||null==(t=l.params)?void 0:t.url,c=null==l||null==(n=l.params)?void 0:n.quote,d=null==l||null==(i=l.params)?void 0:i.owner,y=(0,a.useState)([]),g=(0,_.default)(y,2),h=g[0],p=g[1],v=Bt||(Bt=new Ht),b=a.useState(),A=(0,_.default)(b,2),m=A[0],j=A[1],x=a.useState(),C=(0,_.default)(x,2),k=C[0],O=C[1],S=(0,bt.useIsFocused)(),I="assets/quote/images/",P=[I+"bg_00.png",I+"bg_01.png",I+"bg_02.png",I+"bg_03.png",I+"bg_04.png",I+"bg_05.png",I+"bg_06.png"],E=P[Math.round(Math.random()*P.length)];(0,a.useEffect)((function(){S&&s&&D(s),S?w():p([])}),[S]),(0,a.useEffect)((function(){o.setOptions({headerLeft:function(e){return(0,ie.jsx)(yt.default,Ut(Ut({},e),{},{onPress:function(){o.navigate(J)},label:"Home",labelVisible:!0,tintColor:M.colorPrimary}))}})}),[]);var w=function(){var e=(0,u.default)((function*(){var e=yield v.getBgUrl(E);O(e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,u.default)((function*(e){var t=yield v.getList(e);p([].concat((0,tt.default)(h),(0,tt.default)(t.contents))),j(t.pagination),f.debug("QuoteDetailScreen",t)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,u.default)((function*(e){var t=H+"/quote?quote="+encodeURIComponent(e.item)+"&owner="+encodeURIComponent(e.owner);yield Tt.default.share({message:t})}));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,ie.jsxs)($.default,{style:{flex:1,alignItems:"center"},children:[(0,ie.jsxs)($.default,{style:{backgroundColor:"#FFFFFF",opacity:.5,borderRadius:5,flex:1,justifyContent:"center",marginHorizontal:15,marginTop:15},children:[(0,ie.jsx)(At,{style:Ft.item,label:e.item,textStyle:Ft.textStyle}),(0,ie.jsx)(At,{label:e.owner||"Owner",style:Ft.owner,textStyle:Ft.ownerStyle})]}),(0,ie.jsxs)($.default,{style:{display:"flex",margin:10},children:[(0,ie.jsxs)($.default,{style:{display:"flex",flexDirection:"row"},children:[(0,ie.jsx)(r.IconButton,{style:{marginHorizontal:5,marginBottom:5},onPress:function(){return B(e)},contentContainerStyle:Ft.socialButton,icon:function(e){return(0,ie.jsx)(ee.default,Ut(Ut({name:"share"},e),{},{color:"black"}))}}),(0,ie.jsx)(r.IconButton,{style:{marginHorizontal:5,marginBottom:5},onPress:function(){return function(e){var t=H+"/quote?quote="+encodeURIComponent(e.item)+"&owner="+encodeURIComponent(e.owner);Mt.setStringAsync(e.item+" "+t)}(e)},contentContainerStyle:Ft.socialButton,icon:function(e){return(0,ie.jsx)(ee.default,Ut(Ut({name:"content-copy"},e),{},{color:"black"}))}})]}),n&&m&&m.current<m.total-1&&(0,ie.jsx)(r.Button,{title:"Load More",onPress:function(){return function(e){var t=s.replace(m.current+"/data.json",e+"/data.json");D(t)}(m.current+1)},color:M.colorPrimary,tintColor:"white",style:{marginBottom:5}})]})]},t)};return(0,ie.jsx)($.default,{style:{display:"flex",height:"100%"},children:k&&(0,ie.jsxs)(Rt.default,{source:{uri:k},resizeMode:"cover",style:{flex:1},children:[(null==h?void 0:h.length)>0&&(0,ie.jsx)(Jt.default,{horizontal:!1,loop:!1,children:h.map((function(e,t){return R(e,t,t===h.length-1)}))}),!(null!=h&&h.length)&&c&&R({item:c,owner:d})]})})};var Gt=function(){function e(t){(0,A.default)(this,e),t?this.date=t:(this.date=new Date,this.date.setHours(9,0,0,0))}return(0,m.default)(e,[{key:"getDate",value:function(){return this.date}},{key:"getDateByRepeat",value:function(){return this.date}},{key:"getTimeByRepeat",value:function(){return this.date}},{key:"getHoursMinutes",value:function(){return("0"+this.date.getHours()).slice(-2)+":"+("0"+this.date.getMinutes()).slice(-2)}},{key:"getDateString",value:function(){return this.date.toLocaleDateString("en-US")}}]),e}(),Kt=function(){function e(t){(0,A.default)(this,e),this.days=[{title:"No Repeat",value:"no_repeat",checked:!1},{title:"Daily",value:"daily",checked:!1},{title:"Monthly",value:"monthly",checked:!1},{title:"Mon",value:"mon",checked:!1},{title:"Tue",value:"tue",checked:!1},{title:"Wed",value:"wed",checked:!1},{title:"Thu",value:"thu",checked:!1},{title:"Fri",value:"fri",checked:!1},{title:"Sat",value:"sat",checked:!1},{title:"Sun",value:"sun",checked:!1}],this.selected=[],t||(t=["no_repeat"]),this.days=this.days.map((function(e){return t.includes(e.value)&&(e.checked=!0),e})),this.setSelected()}return(0,m.default)(e,[{key:"setSelected",value:function(){this.selected=this.days.filter((function(e){return e.checked}))}},{key:"getSelectedValue",value:function(){return this.selected.reduce((function(e,t){return e.push(t.value),e}),[])}},{key:"getLabel",value:function(){var e=this.selected;return this.isNoRepeat()?"No Repeat":1===e.length?"Repeat "+e[0].title:this.isDaily()?"Repeat Daily":"Repeat "+e.length+" days"}},{key:"getHideDate",value:function(){return!this.isNoRepeat()}},{key:"getHideTime",value:function(){return!!this.isMonthly()}},{key:"getShowRepeat",value:function(){return this.selected.length>0}},{key:"isNoRepeat",value:function(){return 0===this.selected.length||1===this.selected.length&&"no_repeat"===this.selected[0].value}},{key:"isDaily",value:function(){return this.selected.some((function(e){return"daily"===e.value}))}},{key:"isMonthly",value:function(){return 1===this.selected.length&&"monthly"===this.selected[0].value}},{key:"isNormalRepeat",value:function(){return 1===this.selected.length?"monthly"!==this.selected[0].value&&"no_repeat"!==this.selected[0].value:this.selected.length>1&&this.selected.length<8}}]),e}();function Nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,C.default)(e);if(t){var i=(0,C.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,x.default)(this,n)}}var Yt=function(){function e(t,n,r){(0,A.default)(this,e),this.dayRepeat=t,this.dateModel=n,this.timeModel=r}return(0,m.default)(e,[{key:"process",value:function(){this.dayRepeat&&(this.dayRepeat.isDaily()&&this.timeModel&&(this.displayChip=this.timeModel.getHoursMinutes()+" Daily",this.time=this.timeModel.getDate()),this.dayRepeat.isMonthly()&&(this.displayChip="Monthly"),this.dayRepeat.isNormalRepeat()&&this.timeModel&&(this.displayChip=this.timeModel.getHoursMinutes()+" "+this.dayRepeat.selected.length+" days",this.time=this.timeModel.getDate()),this.dayRepeat.isNoRepeat()&&this.timeModel&&this.dateModel&&(this.displayChip=this.timeModel.getHoursMinutes()+" "+this.dateModel.getDateString(),this.date=this.dateModel.getDate(),this.time=this.timeModel.getDate()),this.selectedDaysRepeat=this.dayRepeat.getSelectedValue())}}]),e}(),Wt=function(e){(0,j.default)(n,e);var t=Nt(n);function n(e,r,i){return(0,A.default)(this,n),t.call(this,e?new Kt(e):null,r?new Gt(r):null,i?new Gt(i):null)}return(0,m.default)(n)}(Yt),zt=n(8981),Vt=["title","onButtonPress","onIconPress","titleStyle"];function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Zt=function(e){var t=e.title,n=e.onButtonPress,i=e.onIconPress,o=e.titleStyle,a=(0,te.default)(e,Vt);return(0,ie.jsx)(r.Button,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({variant:"outlined",title:t,titleStyle:o,onPress:n,trailing:function(e){return(0,ie.jsx)(r.IconButton,{onPress:i,icon:function(e){return(0,ie.jsx)(ee.default,{name:"close",size:15})}},"add-category")}},a))};var qt=n(2899);function _t(e){var t=e.onDateChange,n=e.onTimeChange,i=e.date,o=e.time,a=e.hideDate,l=e.hideTime;return(0,ie.jsxs)($.default,{children:[!a&&(0,ie.jsxs)($.default,{style:{display:"flex",flexDirection:"row",marginVertical:10},children:[(0,ie.jsx)($.default,{style:{width:"40%",margin:7},children:(0,ie.jsx)(r.Text,{children:"Date:"})}),(0,ie.jsx)($.default,{style:{width:"40%"},children:(0,ie.jsx)(qt.default,{testID:"dateTimePicker",value:i,mode:"date",is24Hour:!0,onChange:function(e,n){t(e,n)}})}),(0,ie.jsx)($.default,{style:{width:"20%"}})]},"date-picker"),!l&&(0,ie.jsxs)($.default,{style:{display:"flex",flexDirection:"row"},children:[(0,ie.jsx)($.default,{style:{width:"40%",margin:7},children:(0,ie.jsx)(r.Text,{children:"Time:"})}),(0,ie.jsx)($.default,{style:{width:"30%"},children:(0,ie.jsx)(qt.default,{testID:"dateTimePicker",value:o,mode:"time",is24Hour:!0,onChange:function(e,t){n(e,t)},style:{width:"100%"}})}),(0,ie.jsx)($.default,{style:{width:"30%"}})]},"time-picker")]})}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){var t=e.repeat,n=e.onChange,i=a.useState(new Kt(t)),o=(0,_.default)(i,2),l=o[0],s=o[1],u=a.useState(l.getLabel()),c=(0,_.default)(u,2),d=c[0],f=c[1],y=a.useState(l.getShowRepeat()),g=(0,_.default)(y,2),h=g[0],p=g[1],v=function(e,t){if(["no_repeat","monthly"].includes(t))l.days.map((function(n){return n.value===t?n.checked=e:n.checked=!1,n}));else{l.days[0].checked=!1,l.days[2].checked=!1;var r=[t];"daily"===t&&(r=["daily","mon","tue","wed","thu","fri","sat","sun"]),l.days.map((function(t){return r.includes(t.value)&&(t.checked=e),t})),l.days[1].checked=l.days.slice(3).every((function(e){return e.checked}))}l.setSelected();var i=l.getSelectedValue(),o=new Kt(i);s(o),f(l.getLabel()),n(o)};return(0,ie.jsxs)($.default,{style:{display:"flex",flexDirection:"column"},children:[(0,ie.jsx)(r.Button,{title:d,onPress:function(){p(!h)},leading:function(e){return(0,ie.jsx)(ee.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"repeat"},e))},style:{margin:10}}),h&&(0,ie.jsx)($.default,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:l&&l.days.map((function(e){return(0,ie.jsx)($.default,{style:{width:"50%",alignItems:"flex-start"},children:(0,ie.jsxs)(r.Pressable,{onPress:function(){v(!e.checked,e.value)},style:{display:"flex",flexDirection:"row",margin:10},children:[(0,ie.jsx)(ze,{style:on.checkbox,value:e.checked,keyword:e.value,onValueChange:v}),(0,ie.jsx)(r.Text,{children:e.title})]})},e.value)}))})]})}var tn,nn,rn,on=re.default.create({checkbox:{marginHorizontal:10}});function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e){var t=new Gt,n=e.visible,i=e.repeat,o=e.date,l=e.time,s=e.onClose,u=e.onDone,c=a.useState(!1),d=(0,_.default)(c,2),f=d[0],y=d[1],g=a.useState(!1),h=(0,_.default)(g,2),p=h[0],v=h[1];a.useEffect((function(){!0===n&&(tn=new Kt(i),nn=o,rn=l,b(tn))}),[e.visible]);var b=function(e){y(e.getHideDate()),v(e.getHideTime())};return(0,ie.jsx)(Qe,{visible:n,children:(0,ie.jsx)(Te,{children:(0,ie.jsxs)($.default,{children:[(0,ie.jsxs)($.default,{style:{display:"flex",flexDirection:"row"},children:[(0,ie.jsx)($.default,{style:{flex:1},children:(0,ie.jsx)(r.DialogHeader,{title:"Time"})}),(0,ie.jsx)(r.IconButton,ln({onPress:s,icon:function(e){return(0,ie.jsx)(ee.default,ln({name:"close"},e))}},e))]}),(0,ie.jsxs)(r.DialogContent,{children:[(0,ie.jsx)(en,{repeat:i,onChange:function(e){b(tn=e)}}),(0,ie.jsx)(_t,{date:o||t.getDate(),time:l||t.getDate(),hideDate:f,hideTime:p,onDateChange:function(e,t){nn=t},onTimeChange:function(e,t){rn=t}})]}),(0,ie.jsx)(r.DialogActions,{children:(0,ie.jsx)(r.Button,{title:"Done",onPress:function(){u(tn,new Gt(nn),new Gt(rn))}})})]})})})}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){(0,q.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=re.default.create({container:{backgroundColor:"white",padding:15,flex:1},dropdown:{height:50,borderColor:"gray",borderBottomWidth:1,paddingHorizontal:8,marginRight:20,flex:1},placeholderStyle:{fontSize:16},selectedTextStyle:{fontSize:16},iconStyle:{width:20,height:20},inputSearchStyle:{height:40,fontSize:16}});const fn=(0,l.connect)((function(e){var t=e.category.value,n=null==t?void 0:t.map((function(e){return{value:e.id,label:e.title}}));return{categories:t,displayCategories:n}}))((function(e){var t=e.navigation,n=e.route,i=e.displayCategories,o=n.params,s=null!=o&&o.task?JSON.parse(null==o?void 0:o.task):null,c=(null==o?void 0:o.categoryId)||R,d=a.useState((null==s?void 0:s.title)||""),y=(0,_.default)(d,2),g=y[0],h=y[1],p=a.useState((null==s?void 0:s.description)||""),v=(0,_.default)(p,2),b=v[0],A=v[1],m=a.useState(null),j=(0,_.default)(m,2),x=j[0],C=j[1],k=a.useState(null),O=(0,_.default)(k,2),S=O[0],I=O[1],P=a.useState(!1),E=(0,_.default)(P,2),D=E[0],B=E[1],T=a.useState(!1),J=(0,_.default)(T,2),H=J[0],Q=J[1],F=a.useState(null!=s&&s.date?new Date(s.date):null),L=(0,_.default)(F,2),G=L[0],K=L[1],N=a.useState(null!=s&&s.time?new Date(s.time):null),Y=(0,_.default)(N,2),W=Y[0],z=Y[1],V=a.useState((null==s?void 0:s.selectedDaysRepeat)||null),X=(0,_.default)(V,2),Z=X[0],q=X[1],ee=a.useRef();ee.current={title:g,description:b,categoryUpdate:S,taskTimeDialogDate:G,taskTimeDialogTime:W,taskTimeDialogRepeat:Z};var te=(0,l.useDispatch)(),ne=!!s,re=ct(),oe=st();(0,a.useEffect)((function(){t.setOptions({headerLeft:function(e){return(0,ie.jsx)(yt.default,cn(cn({},e),{},{onPress:ae,label:"Actions",labelVisible:!0,tintColor:M.colorPrimary}))}}),le()}),[]);var ae=function(){var e=(0,u.default)((function*(){yield ue();var e=ee.current.categoryUpdate;t.navigate("Actions",{action:"reload",category:e?{id:null==e?void 0:e.value,title:null==e?void 0:e.label}:null})}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,u.default)((function*(){var e=yield oe.getCategoriesWithDefault();oe.setCategories(e)}));return function(){return e.apply(this,arguments)}}(),se=function(){Q(!1)};a.useEffect((function(){if(s){var e=new Wt(Z,G,W);e.process(),C(e.displayChip)}}),[s]);var ue=function(){var e=(0,u.default)((function*(){var e=s?s.id:null,t=null==ee?void 0:ee.current,n=t.title,r=t.description,i=t.categoryUpdate,o=t.taskTimeDialogDate,a=t.taskTimeDialogTime,l=t.taskTimeDialogRepeat,u=new U({id:e,title:n,categoryId:c,description:r,date:o,time:a,selectedDaysRepeat:l});w.validate(u),yield re.saveTaskByCategory({categoryId:(null==i?void 0:i.value)||c,item:u,isUpdate:ne,dispatch:te})}));return function(){return e.apply(this,arguments)}}(),ce=function(){K(null),z(null),q(null),C(null)},de=function(){var e=(0,u.default)((function*(){t.navigate("Actions",{action:"delete",item:s})}));return function(){return e.apply(this,arguments)}}();return(0,ie.jsxs)($.default,{style:dn.container,id:"task-form",children:[(0,ie.jsx)(Te,{children:(0,ie.jsxs)($.default,{style:{flex:1},children:[(0,ie.jsx)(r.TextInput,{variant:"standard",value:g,onChangeText:h,placeholder:"Action Title"}),(0,ie.jsx)(r.TextInput,{variant:"standard",value:b,onChangeText:A,placeholder:"Action Description"}),(0,ie.jsx)($.default,{style:{display:"flex",flexDirection:"row"},children:(0,ie.jsx)(zt.Dropdown,{style:[dn.dropdown,D&&{borderColor:"blue"}],placeholderStyle:dn.placeholderStyle,selectedTextStyle:dn.selectedTextStyle,inputSearchStyle:dn.inputSearchStyle,iconStyle:dn.iconStyle,data:i,search:!0,maxHeight:300,labelField:"label",valueField:"value",placeholder:D?"...":"Categories",searchPlaceholder:"Search...",value:(null==S?void 0:S.value)||c,onFocus:function(){return B(!0)},onBlur:function(){return B(!1)},onChange:function(e){I(e),B(!1)}})}),x&&(0,ie.jsx)(Zt,{title:x,onButtonPress:function(){Q(!0)},onIconPress:function(){f.debug("onCloseChip"),ce()},titleStyle:{flex:1},style:{marginTop:10,borderRadius:20}}),H&&(0,ie.jsx)(sn,{repeat:Z,visible:H,date:G,time:W,onClose:se,onDone:function(e,t,n){var r=new Yt(e,t,n);r.process(),C(r.displayChip),q(r.selectedDaysRepeat),K(r.date),z(r.time),se()}})]})}),(0,ie.jsxs)($.default,{children:[ne&&(0,ie.jsx)(r.Button,{color:"red",title:"Delete",tintColor:"white",onPress:de,style:{width:"100%",marginBottom:20}}),(0,ie.jsx)(r.Button,{disabled:!g,title:ne?"Update":"Create",onPress:ae,color:M.colorPrimary,tintColor:"white",style:{width:"100%",marginBottom:20}})]})]})}));n(6619).Amplify.configure({Auth:{identityPoolId:"us-east-1:83dc82dd-b63b-4c90-9bd2-068bbec672e0",region:"us-east-1"},Storage:{AWSS3:{bucket:"goals7d96afe7e9a348eab91826d84ddd7b25221021-dev",region:"us-east-1"}}});var yn=(0,o.default)();function gn(){var e={prefixes:["https://elearning01.github.io"],config:{screens:{QuoteDetail:"quote",Actions:"actions",Home:"home"}}};return(0,ie.jsx)(l.Provider,{store:Z,children:(0,ie.jsx)(r.Provider,{children:(0,ie.jsx)(i.default,{linking:e,children:(0,ie.jsxs)(yn.Navigator,{children:[(0,ie.jsx)(yn.Screen,{name:"Home",component:Dt,options:{title:"Home",headerTitleAlign:"center",headerStyle:{backgroundColor:M.bgColorPrimary},headerLeft:function(){return null}}}),(0,ie.jsx)(yn.Screen,{name:"Actions",component:vt,options:{title:"Actions",headerTitleAlign:"center"}}),(0,ie.jsx)(yn.Screen,{name:"ActionDetail",component:fn,options:{title:"Action Detail",headerTitleAlign:"center"}}),(0,ie.jsx)(yn.Screen,{name:"QuoteDetail",component:Lt,options:{title:"Quote",headerTitleAlign:"center"}})]})})})})}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,i,o)=>{if(!r){var a=1/0;for(c=0;c<e.length;c++){for(var[r,i,o]=e[c],l=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[a,l,s]=r,u=0;if(a.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var c=s(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[562],(()=>n(9484)));r=n.O(r)})();
//# sourceMappingURL=main.703c5b00.js.map